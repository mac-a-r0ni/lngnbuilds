From 370b660514ea13cd158f2c49920c08c28c9deb9c Mon Sep 17 00:00:00 2001
From: 01micko <01micko@gmx.com>
Date: Wed, 18 Feb 2026 12:50:49 +1000
Subject: [PATCH] Add labwc theme

---
 Assets/Templates/labwc.conf           | 37 +++++++++++++++++++++++++++
 Scripts/bash/template-apply.sh        |  7 ++++-
 Services/Theming/TemplateRegistry.qml | 12 +++++++++
 3 files changed, 55 insertions(+), 1 deletion(-)
 create mode 100644 Assets/Templates/labwc.conf

diff --git a/Assets/Templates/labwc.conf b/Assets/Templates/labwc.conf
new file mode 100644
index 0000000000..dd111f045d
--- /dev/null
+++ b/Assets/Templates/labwc.conf
@@ -0,0 +1,37 @@
+# window border
+window.active.border.color: {{colors.primary.default.hex}}
+window.inactive.border.color: {{colors.secondary.default.hex}}
+
+# ToggleKeybinds status indicator
+window.active.indicator.toggled-keybind.color: {{colors.error.default.hex}}
+
+# window titlebar background
+window.active.title.bg.color: {{colors.primary.default.hex}}
+window.inactive.title.bg.color: {{colors.secondary.default.hex}}
+
+window.active.label.text.color: {{colors.on_primary.default.hex}}
+window.inactive.label.text.color: {{colors.on_secondary.default.hex}}
+window.label.text.justify: center
+
+# window button hover overlay
+window.button.hover.bg.color: {{colors.hover.default.hex}}
+
+# window buttons
+window.active.button.unpressed.image.color: {{colors.on_primary.default.hex}}
+window.inactive.button.unpressed.image.color: {{colors.on_primary.default.hex}}
+
+# menu
+menu.border.color: {{colors.on_primary.default.hex}}
+menu.items.bg.color: {{colors.primary.default.hex}}
+menu.items.text.color: {{colors.on_primary.default.hex}}
+menu.items.active.bg.color: {{colors.secondary.default.hex}}
+menu.items.active.text.color: {{colors.on_secondary.default.hex}}
+menu.separator.color: {{colors.on_primary.default.hex}}
+menu.title.bg.color: {{colors.primary.default.hex}}
+menu.title.text.color: {{colors.on_primary.default.hex}}
+
+# on screen display (window-cycle dialog)
+osd.bg.color: {{colors.on_surface.default.hex}}
+osd.border.color: {{colors.on_primary.default.hex}}
+osd.label.text.color: {{colors.on_primary.default.hex}}
+osd.window-switcher.preview.border.color: {{colors.outline.default.hex}}
diff --git a/Scripts/bash/template-apply.sh b/Scripts/bash/template-apply.sh
index 3c7be33039..3b600c9dc1 100755
--- a/Scripts/bash/template-apply.sh
+++ b/Scripts/bash/template-apply.sh
@@ -4,7 +4,7 @@
 if [ "$#" -lt 1 ]; then
     # Print usage information to standard error.
     echo "Error: No application specified." >&2
-    echo "Usage: $0 {kitty|ghostty|foot|alacritty|wezterm|fuzzel|walker|pywalfox|cava|yazi|niri|hyprland|sway|scroll|mango|btop|zathura} [dark|light]" >&2
+    echo "Usage: $0 {kitty|ghostty|foot|alacritty|wezterm|fuzzel|walker|pywalfox|cava|yazi|labwc|niri|hyprland|sway|scroll|mango|btop|zathura} [dark|light]" >&2
     exit 1
 fi
 
@@ -288,6 +288,11 @@ EOF
     fi
     ;;
 
+labwc)
+    # Update the theme
+    labwc -r
+    ;;
+
 niri)
     CONFIG_FILE="$HOME/.config/niri/config.kdl"
     INCLUDE_LINE='include "./noctalia.kdl"'
diff --git a/Services/Theming/TemplateRegistry.qml b/Services/Theming/TemplateRegistry.qml
index eef5862b83..527c5de865 100644
--- a/Services/Theming/TemplateRegistry.qml
+++ b/Services/Theming/TemplateRegistry.qml
@@ -302,6 +302,18 @@ Singleton {
       "category": "editor",
       "input": "emacs.el"
     },
+    {
+      "id": "labwc",
+      "name": "Labwc",
+      "category": "compositor",
+      "input": "labwc.conf",
+      "outputs": [
+        {
+          "path": "~/.config/labwc/themerc-override"
+        }
+      ],
+      "postProcess": () => `${templateApplyScript} labwc`
+    },
     {
       "id": "niri",
       "name": "Niri",
