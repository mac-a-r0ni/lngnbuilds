diff --git a/backend/drm/libliftoff.c b/backend/drm/libliftoff.c
index a3b61540d419d4389dbc8b6da2944719b35503f1..7a4d090e0b673a535e528ea8983c81217f3b15d4 100644
--- a/backend/drm/libliftoff.c
+++ b/backend/drm/libliftoff.c
@@ -7,6 +7,7 @@
 
 #include "backend/drm/drm.h"
 #include "backend/drm/iface.h"
+#include "config.h"
 
 static bool init(struct wlr_drm_backend *drm) {
 	// TODO: lower log level
@@ -436,7 +437,11 @@ static bool crtc_commit(struct wlr_drm_connector *conn,
 		goto out;
 	}
 
+#if HAVE_LIBLIFTOFF_0_5
+	int ret = liftoff_output_apply(crtc->liftoff, req, flags, NULL);
+#else
 	int ret = liftoff_output_apply(crtc->liftoff, req, flags);
+#endif
 	if (ret != 0) {
 		wlr_drm_conn_log(conn, test_only ? WLR_DEBUG : WLR_ERROR,
 			"liftoff_output_apply failed: %s", strerror(-ret));
diff --git a/backend/drm/meson.build b/backend/drm/meson.build
index 6fcb2c15e9c9d25fa98755b7461847b46a05f5fc..c85dc1a0881ce9b63e6f96e131d9bdeef0313811 100644
--- a/backend/drm/meson.build
+++ b/backend/drm/meson.build
@@ -47,6 +47,7 @@ wlr_files += files(
 
 if libliftoff.found()
 	wlr_files += files('libliftoff.c')
+	internal_config.set10('HAVE_LIBLIFTOFF_0_5', libliftoff.version().version_compare('>=0.5.0'))
 endif
 
 features += { 'drm-backend': true }
